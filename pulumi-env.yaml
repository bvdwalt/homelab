# Pulumi ESC Environment Definition
# This file contains the environment configuration for your homelab
# Edit the placeholder values, then import with: pulumi env edit bvdwalt/homelab-dev < pulumi-env.yaml

values:
  # Docker configuration
  docker:
    username: username # CHANGE THIS
    hostname: hostname # CHANGE THIS

  # Domain configuration
  domain: example.com # CHANGE THIS

  # Storage paths
  paths:
    ssd: /mnt/ssd
    hdd: /mnt/hdd
    external: /mnt/external

  # Beszel configuration (secret)
  beszel:
    key:
      fn::secret: "key-goes-here-in-quotes" # CHANGE THIS

  # Linkwarden configuration
  linkwarden:
    dbHost: postgres # CHANGE THIS
    dbName: linkwarden # CHANGE THIS
    dbPassword:
      fn::secret: "password" # CHANGE THIS
    nextAuthUrl: https://linkwarden.domain.com/api/v1/auth # CHANGE THIS
    nextAuthSecret:
      fn::secret: "SUPER_SECRET" # CHANGE THIS

  miniflux:
    dbName: miniflux
    dbUserName: miniflux
    dbUserPassword:
      fn::secret: "db-user-password" # CHANGE THIS
    adminUsername: admin
    adminPassword:
      fn::secret: "miniflux-admin-secret" # CHANGE THIS
    runMigrations: "1"
    createAdmin: "1"
    debug: false

  # Pulumi config values (these will be available via pulumi.Config API)
  pulumiConfig:
    homelab:dockerUsername: ${docker.username}
    homelab:dockerHostname: ${docker.hostname}
    homelab:domain: ${domain}
    homelab:pathsSsd: ${paths.ssd}
    homelab:pathsHdd: ${paths.hdd}
    homelab:pathsExternal: ${paths.external}
    homelab:beszelKey: ${beszel.key}
    homelab:linkwardenDbHost: ${linkwarden.dbHost}
    homelab:linkwardenDbName: ${linkwarden.dbName}
    homelab:linkwardenDbPassword: ${linkwarden.dbPassword}
    homelab:linkwardenNextAuthUrl: ${linkwarden.nextAuthUrl}
    homelab:linkwardenNextAuthSecret: ${linkwarden.nextAuthSecret}
    homelab:minifluxDbName: ${miniflux.dbName}
    homelab:minifluxDbUserName: ${miniflux.dbUserName}
    homelab:minifluxDbUserPassword: ${miniflux.dbUserPassword}
    homelab:minifluxAdminUsername: ${miniflux.adminUsername}
    homelab:minifluxAdminPassword: ${miniflux.adminPassword}
    homelab:minifluxRunMigrations: ${miniflux.runMigrations}
    homelab:minifluxCreateAdmin: ${miniflux.createAdmin}
    homelab:minifluxDebug: ${miniflux.debug}
